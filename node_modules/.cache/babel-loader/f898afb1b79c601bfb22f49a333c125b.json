{"ast":null,"code":"import _toConsumableArray from \"D:\\\\MERN\\\\booking\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"D:\\\\MERN\\\\booking\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\MERN\\\\booking\\\\client\\\\src\\\\components\\\\reserve\\\\Reserve.jsx\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircleXmark } from '@fortawesome/free-solid-svg-icons';\nimport React from 'react';\nimport './reserve.css';\nimport useFetch from '../../hooks/useFetch';\nimport { useState } from 'react';\nimport { useContext } from 'react';\nimport { SearchContext } from '../../context/SearchContext';\nexport default function Reserve(_ref) {\n  var _this = this;\n\n  var setOpen = _ref.setOpen,\n      hotelId = _ref.hotelId;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedRooms = _useState2[0],\n      setSelectedRooms = _useState2[1];\n\n  var _useFetch = useFetch(\"/hotels/room/\".concat(hotelId)),\n      data = _useFetch.data,\n      loading = _useFetch.loading,\n      error = _useFetch.error;\n\n  var _useContext = useContext(SearchContext),\n      dates = _useContext.dates;\n\n  var getDatesInRange = function getDatesInRange(startDate, endDate) {\n    start = new Date(startDate);\n    end = new Date(endDate);\n    var date = new Date(start.getTime());\n    var list = [];\n\n    while (date <= end) {\n      list.push(new Date(date));\n      date.setDate(date.getDate() + 1);\n    }\n\n    return list;\n  };\n\n  console.log(getDatesInRange(dates[0].startDate, dates[0].endDate));\n\n  var handleSelect = function handleSelect(e) {\n    var checked = e.target.checked;\n    var value = e.target.value;\n    setSelectedRooms(checked ? [].concat(_toConsumableArray(selectedRooms), [value]) : selectedRooms.filter(function (item) {\n      return item !== value;\n    }));\n  };\n\n  var handleClick = function handleClick() {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reserve\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCircleXmark,\n    className: \"rClose\",\n    onClick: function onClick() {\n      return setOpen(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Select your rooms: \"), data.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rItem\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rItemInfo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rTitle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rDesc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, item.desc), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rMax\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, \"Max people: \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 59\n      }\n    }, item.maxPeople)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rPrice\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }, item.price)), item.roomNumbers.map(function (roomNumber) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"room\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }\n      }, roomNumber.number), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: roomNumber._id,\n        onChange: handleSelect,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }\n      }));\n    }));\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    className: \"rButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Reserve Now!\")));\n}","map":{"version":3,"names":["FontAwesomeIcon","faCircleXmark","React","useFetch","useState","useContext","SearchContext","Reserve","setOpen","hotelId","selectedRooms","setSelectedRooms","data","loading","error","dates","getDatesInRange","startDate","endDate","start","Date","end","date","getTime","list","push","setDate","getDate","console","log","handleSelect","e","checked","target","value","filter","item","handleClick","map","title","desc","maxPeople","price","roomNumbers","roomNumber","number","_id"],"sources":["D:/MERN/booking/client/src/components/reserve/Reserve.jsx"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCircleXmark } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react'\r\nimport './reserve.css'\r\nimport useFetch from '../../hooks/useFetch'\r\nimport { useState } from 'react'\r\nimport { useContext } from 'react'\r\nimport { SearchContext } from '../../context/SearchContext'\r\n\r\nexport default function Reserve({setOpen, hotelId}) {\r\n\r\nconst [selectedRooms, setSelectedRooms] = useState([])\r\nconst {data, loading, error} = useFetch(`/hotels/room/${hotelId}`) \r\nconst {dates} = useContext(SearchContext)\r\n\r\nconst getDatesInRange = (startDate,endDate) => {\r\n    start = new Date(startDate)\r\n    end = new Date(endDate)\r\n    const date = new Date(start.getTime())\r\n    \r\n    let list = []\r\n\r\n    while(date <= end){\r\n        list.push(new Date(date))\r\n        date.setDate(date.getDate() + 1)\r\n    }\r\n\r\n    return list\r\n}\r\n\r\nconsole.log(getDatesInRange(dates[0].startDate,dates[0].endDate))\r\n\r\nconst handleSelect = (e) => {\r\n    const checked = e.target.checked\r\n    const value = e.target.value \r\n    setSelectedRooms(checked ? [...selectedRooms, value] : selectedRooms.filter((item) => item !== value))\r\n}\r\n\r\nconst handleClick = () => {\r\n\r\n}\r\n\r\n  return (\r\n    <div className='reserve'>\r\n        <div className=\"rContainer\">\r\n            <FontAwesomeIcon icon={faCircleXmark} className=\"rClose\" onClick={() => setOpen(false)}/>\r\n            <span>Select your rooms: </span>\r\n            {data.map(item=>(\r\n                <div className=\"rItem\">\r\n                    <div className=\"rItemInfo\">\r\n                        <div className=\"rTitle\">{item.title}</div>\r\n                        <div className=\"rDesc\">{item.desc}</div>\r\n                        <div className=\"rMax\">Max people: <b>{item.maxPeople}</b></div>\r\n                        <div className=\"rPrice\">{item.price}</div>\r\n                    </div>\r\n                    \r\n                    {item.roomNumbers.map(roomNumber => (\r\n                        <div className=\"room\">\r\n                            <label>{roomNumber.number}</label>\r\n                            <input type=\"checkbox\" value={roomNumber._id} onChange={handleSelect}/>\r\n                        </div>       \r\n                    ))}\r\n                    \r\n                </div>\r\n            ))}\r\n            <button onClick={handleClick} className=\"rButton\">Reserve Now!</button>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}